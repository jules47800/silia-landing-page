"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2573],{639:function(e,n,t){t.d(n,{zx:function(){return a},zH:function(){return o},Fb:function(){return l},II:function(){return m},rs:function(){return j},gx:function(){return v}});var r=t(5893),a=function(e){var n=e.Icon,t=e.text,a=e.disabled,i=void 0!==a&&a,s=e.className,o=e.primaryColor,l=e.outlined,c=void 0!==l&&l,u=o?c?"transparent":o:c?"transparent":"#4f46e5",d=o?c?o:"#ffffff":c?"#4f46e5":"#ffffff";return(0,r.jsxs)("button",{type:"submit",disabled:i,style:{borderWidth:c?"1px":"0px",backgroundColor:u,border:c?"2px solid ".concat(o||"#4f46e5"):"none",color:d,opacity:i?.5:1},className:"w-full flex items-center justify-center py-3.5 px-4 rounded-sm text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat(s),onMouseEnter:function(e){return e.currentTarget.style.backgroundColor=o?e.currentTarget.style.backgroundColor:"#4338ca"},onMouseLeave:function(e){return e.currentTarget.style.backgroundColor=u},children:[n&&(0,r.jsx)("span",{className:"mr-2",children:(0,r.jsx)(n,{className:"h-4 w-4"})}),t]})},i=t(4346),s=t(5310),o=function(e){return(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:i.fc.map((function(n){var t=Boolean(e.value===n.name);return(0,r.jsx)("div",{className:(0,s.AK)(t?"ring-gray-800 hover:ring-gray-800":"ring-white","w-7 h-7 cursor-pointer hover:opacity-80 hover:ring-gray-300 ring-2 ring-offset-2"),onClick:function(){return e.onChange(n.name)},style:{backgroundColor:n.hex}})}))})},l=function(e){var n=e.description,t=e.title;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-md leading-6 font-medium text-gray-900",children:t}),(0,r.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:n})]})},c=t(6042),u=t(9534),d=t(5001),m=function(e){var n=e.hint,t=e.label,a=e.placeholder,i=e.name,s=e.type,o=void 0===s?"text":s,l=(0,u.Z)(e,["hint","label","placeholder","name","type"]),m="required"===l.error,h="required"===l.error?"relative bg-white border border-red-300 rounded-sm px-3 py-2 focus-within:ring-1 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"relative bg-white border border-gray-300 rounded-sm px-3 py-2 focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:h,children:[(0,r.jsx)("label",{htmlFor:i,className:"block text-xs font-medium text-gray-900",children:t}),(0,r.jsx)("input",(0,c.Z)({id:i,className:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 sm:text-sm",placeholder:a,type:o},l)),m&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-red-500"})})]}),n&&(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",id:"email-description",children:n})]})},h=t(7662),f=t(1211),x=t(7490),p=t(1575),g=t(561),v=function(e){var n=e.hasBubbleMenu,t=void 0===n||n,a=e.hint,i=e.label,s=e.onChange,o=e.value,l=(0,h.jE)({extensions:[f.Z,x.Z.configure({HTMLAttributes:{class:"text-xl"},levels:[1]}),g.ZP.configure({HTMLAttributes:{class:"pl-8 list-disc"}}),p.ZP.configure({HTMLAttributes:{class:"pl-8 list-decimal"}})],content:o,onUpdate:function(e){var n=e.editor.getHTML();s(n)},editorProps:{attributes:{class:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-none sm:text-sm"}}}),c=function(e,n){return"-ml-px relative inline-flex items-center p-3 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 ".concat((null===l||void 0===l?void 0:l.isActive(e,n))&&"z-10 outline-none ring-1 text-indigo-500 ring-indigo-500 border-indigo-500")};return(0,r.jsxs)(r.Fragment,{children:[l&&t&&(0,r.jsx)(h.NM,{editor:l,tippyOptions:{duration:100},children:(0,r.jsxs)("span",{className:"relative z-0 inline-flex shadow-lg rounded-sm",children:[(0,r.jsx)("button",{type:"button",className:c("heading",{level:1}),onClick:function(){return l.chain().focus().toggleHeading({level:1}).run()},children:(0,r.jsx)("i",{className:"ri-h-1 ri-lg"})}),(0,r.jsx)("button",{type:"button",className:c("bold"),onClick:function(){return l.chain().focus().toggleBold().run()},children:(0,r.jsx)("i",{className:"ri-bold ri-lg"})}),(0,r.jsx)("button",{type:"button",className:c("italic"),onClick:function(){return l.chain().focus().toggleItalic().run()},children:(0,r.jsx)("i",{className:"ri-italic ri-lg"})}),(0,r.jsx)("button",{type:"button",className:c("bulletList"),onClick:function(){return l.chain().focus().toggleBulletList().run()},children:(0,r.jsx)("i",{className:"ri-list-check ri-lg"})}),(0,r.jsx)("button",{type:"button",className:c("orderedList"),onClick:function(){return l.chain().focus().toggleOrderedList().run()},children:(0,r.jsx)("i",{className:"ri-list-ordered ri-lg"})})]})}),(0,r.jsxs)("div",{className:"relative bg-white border border-gray-300 rounded-sm px-3 py-2 focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-900",children:i}),(0,r.jsx)(h.kg,{editor:l})]}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",id:"email-description",children:a})]})},b=t(7294),y=t(3933),j=function(e){var n=e.label,t=e.isChecked,a=e.isDisable,i=void 0!==a&&a,s=e.action,o=(0,b.useState)(t),l=o[0],c=o[1];return(0,r.jsx)(y.r.Group,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.r.Label,{className:"text-md leading-6 font-medium text-gray-800",children:n}),(0,r.jsx)(y.r,{checked:l,disabled:i,onChange:function(){c(!l),s()},className:"".concat(l?"bg-indigo-600":"bg-gray-200"," relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,r.jsx)("span",{className:"".concat(l?"translate-x-6":"translate-x-1"," inline-block h-4 w-4 transform rounded-full bg-white transition-transform")})})]})})}},2573:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(5893),a=t(7294),i=t(4080),s=t(9709),o=t(471),l=t(1664),c=t.n(l),u=t(5426),d=t(3616),m=t(8431),h=t(1782),f=t(468),x=t(1748),p=t(2450),g=t(8510),v=t(2691),b=t(6064),y=t(9700),j=t(6164),w=t(4635),N=t(1531),k=t(4935),C=t(5506),Z=t(9065),_=t(4892),S=t(1163),F=t(8304),T=t(5310),A=t(7568),P=t(6042),I=t(9396),L=t(7582),D=t(7848);var E=function(e,n){return(0,D.a)(["GetMessages",e],function(e,n){return(0,A.Z)((function(){var t,r;return(0,L.__generator)(this,(function(a){switch(a.label){case 0:return[4,fetch("https://www.silia.co/api",(0,I.Z)((0,P.Z)({method:"POST"},{headers:{"Content-Type":"application/json"}}),{body:JSON.stringify({query:e,variables:n})}))];case 1:return[4,a.sent().json()];case 2:if((t=a.sent()).errors)throw r=t.errors[0].message,new Error(r);return[2,t.data]}}))}))}("\n    query GetMessages($projectId: String!, $newMailOnly: Boolean!) {\n  messages(projectId: $projectId, newMailOnly: $newMailOnly) {\n    id\n    name\n    content\n    email\n    createdAt\n    projectId\n    isRead\n  }\n}\n    ",e),n)},M=function(e){var n,t,l,A,P,I,L=e.children,D=(0,a.useState)(!1),M=D[0],O=D[1],U=(0,a.useState)(!1),z=U[0],V=U[1],q=(0,S.useRouter)(),B=(0,F.X)(void 0,{onSuccess:function(e){var n,t,r;0===(null===(n=e.currentUser)||void 0===n||null===(t=n.projects)||void 0===t||null===(r=t.edges)||void 0===r?void 0:r.length)&&q.push("/app"),null===e.currentUser&&q.push("/api/auth/logout")}}).data,$=q.query.id,G=E({projectId:$||"",newMailOnly:!0}).data,H=(null===G||void 0===G?void 0:G.messages)&&(null===G||void 0===G||null===(n=G.messages)||void 0===n?void 0:n.length)>0,Q=[{label:"Dashboard",icon:h.Z,link:"/app/".concat($)},{label:"Contenu",icon:f.Z,link:"/app/".concat($,"/items")},{label:"Sections",icon:x.Z,link:"/app/".concat($,"/sections?tab=general")},{label:"\xc9v\xe8nements",icon:p.Z,link:"/app/".concat($,"/events")},{label:"Sondages",icon:g.Z,link:"/app/".concat($,"/polls")},{label:"Web Builder",icon:v.Z,link:"/app/".concat($,"/webpage"),new:!0,accessAdmin:!0},{label:"Projet",icon:b.Z,link:"/app/".concat($,"/project?tab=general")},{label:"Messages",icon:H?y.Z:j.Z,link:"/app/".concat($,"/messages")},{label:"R\xe9glages",icon:w.Z,link:"/app/".concat($,"/profile")},{label:"Support",icon:N.Z,link:"/app/".concat($,"/support")},{label:"D\xe9connexion",icon:k.Z,link:"/api/auth/logout"}];(0,a.useEffect)((function(){var e,n,t;null===(e=null===document||void 0===document?void 0:document.querySelector("html"))||void 0===e||e.classList.add("h-full"),null===(n=null===document||void 0===document?void 0:document.querySelector("body"))||void 0===n||n.classList.add("h-full"),null===(t=null===document||void 0===document?void 0:document.querySelector("#__next"))||void 0===t||t.classList.add("h-full")}),[]);var J=null===B||void 0===B||null===(t=B.currentUser)||void 0===t?void 0:t.projects,R=null===J||void 0===J||null===(l=J.edges)||void 0===l?void 0:l.find((function(e){var n;return(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id)===$}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)("div",{className:"h-full flex",children:[(0,r.jsx)(i.u.Root,{show:M,as:a.Fragment,children:(0,r.jsxs)(s.V,{as:"div",className:"relative z-40 lg:hidden",onClose:O,children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-blue-gray-600 bg-opacity-75"})}),(0,r.jsx)("div",{className:"fixed inset-0 flex z-40",children:(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,r.jsxs)(s.V.Panel,{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white focus:outline-none",children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-4",children:(0,r.jsx)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:function(){return O(!1)},children:(0,r.jsx)(C.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})})})}),(0,r.jsxs)("div",{className:"pt-5 pb-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,r.jsx)("img",{className:"h-14 w-auto",src:"/logo-app-purple.png",alt:"Silia"})}),(0,r.jsx)("nav",{"aria-label":"Sidebar",className:"mt-5",children:(0,r.jsx)("div",{className:"px-2 space-y-1",children:Q.map((function(e){return(0,r.jsx)(c(),{href:e.link,passHref:!0,children:(0,r.jsxs)("a",{className:"group p-2 rounded-sm flex items-center text-base font-medium text-blue-gray-600 hover:bg-blue-gray-50 hover:text-blue-gray-900",children:[(0,r.jsx)(e.icon,{className:"mr-4 h-6 w-6 text-blue-gray-400 group-hover:text-blue-gray-500","aria-hidden":"true"}),e.label]})},e.label)}))})})]})]})})})]})}),(0,r.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0",children:(0,r.jsx)("div",{className:"flex flex-col w-20",children:(0,r.jsx)("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto bg-indigo-600",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"bg-indigo-700 py-2 flex items-center justify-center",children:(0,r.jsx)("img",{className:"h-12 w-auto",src:"/logo-app.png",alt:"Silia"})}),(0,r.jsxs)("nav",{"aria-label":"Sidebar",className:"h-[calc(100%_-_4.5em)] flex flex-col justify-between",children:[(0,r.jsx)("div",{className:"p-4 flex flex-col items-center space-y-3",children:Q.map((function(e){var n;return(null===e||void 0===e?void 0:e.accessAdmin)&&"ADMIN"!==(null===B||void 0===B||null===(n=B.currentUser)||void 0===n?void 0:n.role)?null:(0,r.jsx)(c(),{href:e.link,passHref:!0,children:(0,r.jsxs)("a",{className:"has-tooltip flex items-center p-4 rounded-sm text-indigo-200 hover:bg-indigo-700",children:[(0,r.jsxs)("div",{className:"relative",children:[e.icon&&(0,r.jsx)(e.icon,{className:"h-6 w-6"}),"Messages"===e.label&&H&&(0,r.jsx)("span",{className:"absolute top-0 left-6 inline-block w-2 h-2 mr-2 bg-red-500 rounded-full"}),(null===e||void 0===e?void 0:e.new)&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 flex items-center",children:(0,r.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,r.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-teal-300"}),(0,r.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 $ bg-teal-400"})]})})]}),(0,r.jsx)("span",{className:"tooltip rounded shadow-lg px-2 py-1 text-sm bg-gray-700 text-white ml-12",children:e.label})]})},e.label)}))}),(0,r.jsxs)(o.v,{as:"div",className:"mb-3 px-3 inline-block text-left",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(o.v.Button,{className:"has-tooltip flex items-center p-2 rounded-sm text-indigo-200 hover:bg-indigo-700",children:[(0,r.jsx)("span",{className:"inline-flex items-center justify-center h-10 w-10 rounded-full bg-indigo-100",children:(0,r.jsx)("span",{className:"font-medium leading-none text-indigo-700",children:(0,T.Qm)((null===R||void 0===R||null===(A=R.node)||void 0===A?void 0:A.name)||"")})}),(0,r.jsx)("span",{className:"tooltip rounded shadow-lg px-2 py-1 text-sm bg-gray-700 text-white ml-14",children:"Mes projets"})]})}),(0,r.jsx)(i.u,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsxs)(o.v.Items,{className:"w-60 z-10 mx-3 origin-top absolute right-0 left-0 bottom-20 mt-1 rounded-sm shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-200 focus:outline-none",children:[(0,r.jsx)("div",{className:"py-1",children:null===J||void 0===J||null===(P=J.edges)||void 0===P?void 0:P.map((function(e){var n=null===e||void 0===e?void 0:e.node;return n?(0,r.jsx)(o.v.Item,{children:(0,r.jsx)(c(),{href:"/app/".concat(n.id),passHref:!0,children:(0,r.jsxs)("a",{className:(0,T.AK)($===n.id?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm"),children:[(0,r.jsx)(u.Z,{className:(0,T.AK)($===n.id?"text-gray-700 group-hover:text-gray-900":"text-gray-300 group-hover:text-gray-400","mr-3 h-5 w-5"),"aria-hidden":"true"}),(0,r.jsx)("span",{className:"flex-1 truncate",children:n.name})]})})},n.id):null}))}),(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)(o.v.Item,{children:function(e){var n=e.active;return(0,r.jsxs)("div",{className:(0,T.AK)(n?"text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm cursor-pointer"),onClick:function(){return V(!0)},children:[(0,r.jsx)(d.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),"Cr\xe9er un nouveau projet"]})}}),"ADMIN"===(null===B||void 0===B||null===(I=B.currentUser)||void 0===I?void 0:I.role)&&(0,r.jsx)(o.v.Item,{children:function(e){var n=e.active;return(0,r.jsx)(c(),{href:"/admin",children:(0,r.jsxs)("a",{className:(0,T.AK)(n?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm cursor-pointer"),children:[(0,r.jsx)(m.Z,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),"G\xe9rer les projets"]})})}})]})]})})]})]})]})})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col overflow-hidden",children:[(0,r.jsx)("div",{className:"lg:hidden",children:(0,r.jsxs)("div",{className:"bg-indigo-600 py-2 px-4 flex items-center justify-between sm:px-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:"h-12 w-auto",src:"/logo-app.png",alt:"Silia"})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",className:"-mr-3 h-12 w-12 inline-flex items-center justify-center bg-indigo-600 rounded-sm text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:function(){return O(!0)},children:(0,r.jsx)(Z.Z,{className:"h-6 w-6","aria-hidden":"true"})})})]})}),L]})]}),(0,r.jsx)(_.Z,{open:z,setOpen:V})]})})}},4892:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(5893),a=t(7294),i=t(4080),s=t(9709),o=t(7568),l=t(6042),c=t(7582),u=t(7536),d=t(5945),m=t(6763),h=t(1163),f=t(3416),x=t(639),p=t(9396),g=t(8228);var v=function(e){return(0,g.D)(["CreateProject"],(function(e){return function(e,n){return(0,o.Z)((function(){var t,r;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return[4,fetch("https://www.silia.co/api",(0,p.Z)((0,l.Z)({method:"POST"},{headers:{"Content-Type":"application/json"}}),{body:JSON.stringify({query:e,variables:n})}))];case 1:return[4,a.sent().json()];case 2:if((t=a.sent()).errors)throw r=t.errors[0].message,new Error(r);return[2,t.data]}}))}))}("\n    mutation CreateProject($contactPhone: String!, $name: String!, $topic: String!) {\n  createProject(contactPhone: $contactPhone, name: $name, topic: $topic) {\n    id\n    name\n    contactPhone\n  }\n}\n    ",e)()}),e)},b=t(5310),y=t(6501),j=function(e){var n=e.avoidClose,t=e.callback,a=(0,h.useRouter)(),i=(0,u.cI)(),p=i.control,g=i.formState,j=i.handleSubmit,w=(0,d.NL)(),N=w.getQueryData(["GetCurrentUser"]),k=v({onError:function(){return(0,b.mv)("error","Une erreur est survenue")},onSuccess:function(){var e=(0,o.Z)((function(e){var n;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return(0,b.mv)("success","Projet cr\xe9\xe9 avec succ\xe8s"),[4,w.refetchQueries(["GetCurrentUser"])];case 1:return r.sent(),a.push("/app/".concat(null===(n=e.createProject)||void 0===n?void 0:n.id)),t(),[2]}}))}));return function(n){return e.apply(this,arguments)}}()}),C=k.mutate,Z=function(){var e=(0,o.Z)((function(e){var n,t,r,a,i;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),t=(0,f.x0)(),r="https://discord.com/api/webhooks/1063500102586617869/KiDJmWU9OQjwdcVncfEnQixwzTITAsXJ_ck8jj4LAJEaY7NxS72566NyEYLoBh5Lne-4",a={embeds:[{title:"Un nouveau projet a \xe9t\xe9 cr\xe9\xe9: ".concat(e.name),url:"https://www.silia.co/admin",timestamp:(new Date).toISOString()}]},[4,fetch("/api/aws/createTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicName:t})})];case 1:return[4,s.sent().json()];case 2:return i=s.sent().topicArn,[4,C({contactPhone:e.contactPhone,name:e.name,topic:i})];case 3:return s.sent(),"USER"!==(null===N||void 0===N||null===(n=N.currentUser)||void 0===n?void 0:n.role)?[3,5]:[4,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})];case 4:s.sent(),s.label=5;case 5:return[3,7];case 6:return s.sent(),y.ZP.error("Une erreur est survenue"),[3,7];case 7:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)("form",{onSubmit:j(Z),children:[(0,r.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,r.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,r.jsx)(m.Z,{className:"h-6 w-6 text-indigo-600","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,r.jsx)(s.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Cr\xe9er un nouveau projet"}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"text-sm text-justify text-gray-500",children:"Renseignez les champs ci-dessous. La configuration du projet se fera dans un second temps."}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(u.Qr,{name:"name",control:p,rules:{required:!0},render:function(e){var n,t=e.field;return(0,r.jsx)(x.II,(0,l.Z)({label:"Nom du projet",placeholder:"Mon projet",error:null===(n=null===g||void 0===g?void 0:g.errors.name)||void 0===n?void 0:n.type},t))}})}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(u.Qr,{name:"contactPhone",control:p,rules:{required:!0},render:function(e){var n,t=e.field;return(0,r.jsx)(x.II,(0,l.Z)({label:"Num\xe9ro de t\xe9l\xe9phone",placeholder:"01 23 45 67 89",error:null===(n=null===g||void 0===g?void 0:g.errors.contactPhone)||void 0===n?void 0:n.type},t))}})})]})]})]}),(0,r.jsxs)("div",{className:"mt-5 sm:mt-4 sm:ml-10 sm:pl-4 sm:flex",children:[(0,r.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-sm border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto sm:text-sm",children:"Cr\xe9er le projet"}),!n&&(0,r.jsx)("button",{className:"mt-3 w-full inline-flex justify-center rounded-sm border border-gray-300 px-4 py-2 bg-white text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Annuler"})]})]})},w=function(e){var n=e.avoidClose,t=e.open,o=e.setOpen;return(0,r.jsx)(i.u.Root,{show:t,as:a.Fragment,children:(0,r.jsxs)(s.V,{as:"div",className:"relative z-10",onClose:n?function(){return null}:o,children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,r.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0",children:(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsx)(s.V.Panel,{className:"relative bg-white rounded-sm px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full sm:p-6",children:(0,r.jsx)(j,{avoidClose:n,callback:function(){return o(!1)}})})})})})]})})}},4346:function(e,n,t){t.d(n,{Dr:function(){return s},_W:function(){return i},fc:function(){return r},hQ:function(){return a}});var r=[{name:"dark_gun_metal",hex:"#1F2526"},{name:"japanese_indigo",hex:"#233D4D"},{name:"dark_lava",hex:"#463F3A"},{name:"blue_violet",hex:"#782ECB"},{name:"ocean_blue",hex:"#4D49BE"},{name:"cerulean_blue",hex:"#374DCD"},{name:"dark_olive_green",hex:"#606C38"},{name:"watermelon_red",hex:"#BC4749"},{name:"ming",hex:"#3C6E71"},{name:"razzmatazz",hex:"#EE2663"},{name:"black_coral",hex:"#5E6472"},{name:"cyan_cornflower_blue",hex:"#2A85C6"},{name:"orange_red",hex:"#FF6629"},{name:"burnt_sienna",hex:"#E76F51"},{name:"jungle_green",hex:"#2A9D8F"},{name:"bright_yellow",hex:"#FFA329"},{name:"018",hex:"#8A817C"},{name:"sandy_brown",hex:"#F4A261"},{name:"olivine",hex:"#A1C181"}],a=["discord","dribbble","facebook","github","instagram","linkedin","slack","twitch","twitter","vimeo","youtube","links","shopping-bag-3"],i=["store-2","mail","cloud","attachment","profile","bar-chart-box","pie-chart-2","bookmark-3","bookmark-2","bookmark","briefcase","briefcase-3","calculator","calendar-2","calendar-todo","flag","honour","slideshow-3","stack","slideshow-4","chat-3","chat-1","palette","collage","smartphone","mac","hard-drive-2","sd-card-mini","gamepad","dashboard-3","file-paper","file-list","todo","book-2","file-excel-2","file-ppt-2","file-word-2","folder-5","folder-lock","folder-user","wallet-3","bank-card","coupon","price-tag-2","shopping-bag","shopping-cart","exchange-box","money-euro-box","gift","heart-3","first-aid-kit","mental-health","psychotherapy","map-pin-2","map-pin-user","compass-3","earth","rocket","truck","car","taxi","ship-2","takeaway","plane","caravan","riding","footprint","restaurant","traffic-light","navigation","cup","suitcase-2","luggage-cart","steering-2","image-2","movie","clapperboard","film","gallery","camera-2","music-2","dashboard","apps","shield","shield-star","shield-flash","shield-cross","shield-user","shield-keyhole","shield-check","search-2","eye","timer-2","account-circle","aliens","ghost","skull","group-2","sun","moon-clear","fire","cake-2","basketball","football","lightbulb","t-shirt-2","ping-pong","leaf","plant","wheelchair"],s=[{label:"Titre",key:"name",defaultValue:!0},{label:"Contenu",key:"content",defaultValue:!0},{label:"Image",key:"image",defaultValue:!1},{label:"Lien principal",key:"primaryLink",defaultValue:!1},{label:"Lien secondaire",key:"secondaryLink",defaultValue:!1},{label:"Date de d\xe9but",key:"startDate",defaultValue:!1},{label:"Date de fin",key:"endDate",defaultValue:!1},{label:"Liste",key:"meta",defaultValue:!1}]},8304:function(e,n,t){t.d(n,{X:function(){return l}});var r=t(7568),a=t(6042),i=t(9396),s=t(7582),o=t(7848);var l=function(e,n){return(0,o.a)(void 0===e?["GetCurrentUser"]:["GetCurrentUser",e],function(e,n){return(0,r.Z)((function(){var t,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,fetch("https://www.silia.co/api",(0,i.Z)((0,a.Z)({method:"POST"},{headers:{"Content-Type":"application/json"}}),{body:JSON.stringify({query:e,variables:n})}))];case 1:return[4,s.sent().json()];case 2:if((t=s.sent()).errors)throw r=t.errors[0].message,new Error(r);return[2,t.data]}}))}))}("\n    query GetCurrentUser {\n  currentUser {\n    id\n    name\n    email\n    role\n    projects(first: 50) {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n    ",e),n)}},5310:function(e,n,t){t.d(n,{AK:function(){return i},Qm:function(){return a},XZ:function(){return o},mv:function(){return s}});var r=t(6501),a=function(e){return null===e||void 0===e?void 0:e.toUpperCase().split(" ").slice(0,2).map((function(e){return e[0]}))},i=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")},s=function(e,n){r.ZP[e](n)},o=function(e){return e.includes("https://silia.s3.eu-central-1.amazonaws.com")||!1}}}]);